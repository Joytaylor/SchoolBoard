<!DOCTYPE HTML>
<!--Samuel Anozie 12/18/18. This is the form that the user both signs up and logs in with.-->
<html>
<head>
<meta charset="UTF-8">
<title>Log in - SchoolBoard</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!--DataTable things-->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.18/js/jquery.dataTables.min.js"></script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.18/css/jquery.dataTables.min.css">

<link rel = "stylesheet" href = "newformstyles.css"/>

<link rel = "icon" href = "favicon.png" type = "image/jpg"/>
<script>
	$(document).ready( function () {
    $('#table').DataTable();
} );
	</script>
</head>
<body>
<div id = "headbar"><!--user can head back to the  index page by clicking this image-->
	<a href = "index.php"><img src = "Picture1.png"/></a>
</div>
<h1>SIGNUP</h1>
<form method = "post" action = "signup.php">
Status:  <select name = "status" placeholder =  "Status" required>
    <option value = "student">
        Student
    </option>
    <option value = "teacher">
        Teacher
    </option>
</select><br>
<br><input type = "text" name = "firstName" placeholder = "First Name" required><br>
<br><input type = "text" name = "lastName" placeholder = "Last Name" required><br>
<br><input type = "text" name = "user_id" placeholder = "ID Number" required><br>
<br><input type = "text" name = "username" placeholder = "Username" required><br>
    <!--the following code was obtained from W3 schools. It does two functions: First, it checks the "confirm password" field with the normal password one and makes sure they are the same. If they are not the same, it prompts the user to try again. Secondly, it makes sure that when the user is putting in passwords, it uses extra characters and a character minimum to ensure a secure password. Wouldn't want other people snooping to see their score on a math quiz, would we now?-->
<br><input type="password" id="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" name = "password" placeholder = "Password" required><br>
<br><input type = "password" name = "password" placeholder = "Confirm Password" onkeyup="checkPass(); return false;" required id = "pass2"><br>
<br>
<span id="confirmMessage" class="confirmMessage"></span>
    <div id="message">

        <!--this code segment is from w3 schools. Using it to validate the password to meet specific requirements.-->
  <h3>Password must contain the following:</h3>
  <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
  <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
  <p id="number" class="invalid">A <b>number</b></p>
  <p id="length" class="invalid">Minimum <b>8 characters</b></p>
</div>
<div id = "submit" class = "submit"></div><br>
</form>
<script>
function checkPass()
    {
        //Store the password field objects into variables ...
        var pass1 = document.getElementById('psw');
        var pass2 = document.getElementById('pass2');
        //Store the Confimation Message Object ...
        var message = document.getElementById('confirmMessage');
        //Set the colors we will be using ...
        var goodColor = "#66cc66";
        var badColor = "#ff6666";
        //Compare the values in the password field
        //and the confirmation field
        if (pass1.value == pass2.value){
            //The passwords match.
            //Set the color to the good color and inform
            //the user that they have entered the correct password
            pass2.style.backgroundColor = goodColor;
            message.style.color = goodColor;
            message.innerHTML = "Passwords Match!"
            document.getElementById("submit").innerHTML = "<input type = 'submit' value = 'Register'>";
        }
        else {
            //The passwords do not match.
            //Set the color to the bad color and
            //notify the user.
            pass2.style.backgroundColor = badColor;
            message.style.color = badColor;
            message.innerHTML = "Passwords Do Not Match!";
            document.getElementById("submit").innerHTML = "";
        }
    }
//this is the function that switches what form is displayed. it takes a parameter which is the id of the span.

	//all the following code is from w3 schools. This code is the javascript needed to validate the password input so that it meets specific requirements.
var myInput = document.getElementById("psw");
var letter = document.getElementById("letter");
var capital = document.getElementById("capital");
var number = document.getElementById("number");
var length = document.getElementById("length");

// When the user clicks on the password field, show the message box
myInput.onfocus = function() {
    document.getElementById("message").style.display = "block";
}

// When the user clicks outside of the password field, hide the message box
myInput.onblur = function() {
    document.getElementById("message").style.display = "none";
}

// When the user starts to type something inside the password field
myInput.onkeyup = function() {
  // Validate lowercase letters
  var lowerCaseLetters = /[a-z]/g;
  if(myInput.value.match(lowerCaseLetters)) {
    letter.classList.remove("invalid");
    letter.classList.add("valid");
  } else {
    letter.classList.remove("valid");
    letter.classList.add("invalid");
  }

  // Validate capital letters
  var upperCaseLetters = /[A-Z]/g;
  if(myInput.value.match(upperCaseLetters)) {
    capital.classList.remove("invalid");
    capital.classList.add("valid");
  } else {
    capital.classList.remove("valid");
    capital.classList.add("invalid");
  }

  // Validate numbers
  var numbers = /[0-9]/g;
  if(myInput.value.match(numbers)) {
    number.classList.remove("invalid");
    number.classList.add("valid");
  } else {
    number.classList.remove("valid");
    number.classList.add("invalid");
  }

  // Validate length
  if(myInput.value.length >= 8) {
    length.classList.remove("invalid");
    length.classList.add("valid");
  } else {
    length.classList.remove("valid");
    length.classList.add("invalid");
  }
}
</script>
</body>
</html>
